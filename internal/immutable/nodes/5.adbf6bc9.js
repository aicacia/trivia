import{S as Ee,i as we,s as We,E as ge,y as ce,z as _e,A as me,F as Ht,G as At,g as U,d as j,B as de,H as Pe,I as jt,J as Rt,m as g,h as r,n as c,b as _,K as ie,k as d,l as h,w as $e,t as Xt,L as Qe,a as N,c as V,M as be,N as b,O as x,a5 as ht,v as Ue,f as Me,a3 as Ft,e as ae,Z as qt,_ as Gt,$ as Yt,a0 as $t,a6 as pt,q as H,a1 as xt,r as A,P as Ge,a7 as vt,a8 as el,R as tl,o as ll,p as bt,u as Jt,a4 as Ye}from"../chunks/index.b32904f4.js";import{I as Kt}from"../chunks/IconBase.3953baa1.js";import{C as Je,Q as gt,g as nl,u as ol,b as sl}from"../chunks/trivia.0a8a2609.js";import{c as Ke}from"../chunks/util.4c8ca346.js";import{f as il}from"../chunks/index.fc72133f.js";import{g as kt}from"../chunks/navigation.0c2ded4d.js";import{e as Ze}from"../chunks/singletons.41d9df85.js";const rl=s=>({room_id:s.params.room_id}),jl=Object.freeze(Object.defineProperty({__proto__:null,load:rl},Symbol.toStringTag,{value:"Module"}));function al(s){let e;return{c(){e=jt("path"),this.h()},l(t){e=Rt(t,"path",{d:!0}),g(e).forEach(r),this.h()},h(){c(e,"d","M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z")},m(t,l){_(t,e,l)},p:ie,d(t){t&&r(e)}}}function fl(s){let e,t;const l=[{viewBox:"0 0 448 512"},s[0]];let o={$$slots:{default:[al]},$$scope:{ctx:s}};for(let i=0;i<l.length;i+=1)o=ge(o,l[i]);return e=new Kt({props:o}),{c(){ce(e.$$.fragment)},l(i){_e(e.$$.fragment,i)},m(i,a){me(e,i,a),t=!0},p(i,[a]){const u=a&1?Ht(l,[l[0],At(i[0])]):{};a&2&&(u.$$scope={dirty:a,ctx:i}),e.$set(u)},i(i){t||(U(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function ul(s,e,t){return s.$$set=l=>{t(0,e=ge(ge({},e),Pe(l)))},e=Pe(e),[e]}class cl extends Ee{constructor(e){super(),we(this,e,ul,fl,We,{})}}function _l(s){let e;return{c(){e=d("img"),this.h()},l(t){e=h(t,"IMG",{class:!0,alt:!0}),this.h()},h(){c(e,"class","inline-block w-100"),c(e,"alt",s[0])},m(t,l){_(t,e,l),s[6](e)},p(t,[l]){l&1&&c(e,"alt",t[0])},i:ie,o:ie,d(t){t&&r(e),s[6](null)}}}function ml(s,e,t){let{value:l}=e,{size:o=512}=e,i,a,u,k;function p(m){$e[m?"unshift":"push"](()=>{a=m,t(1,a)})}return s.$$set=m=>{"value"in m&&t(0,l=m.value),"size"in m&&t(2,o=m.size)},s.$$.update=()=>{s.$$.dirty&15&&a&&!i&&(t(4,u=l),t(5,k=o),t(3,i=new window.QRious({element:a,size:o,value:l}))),s.$$.dirty&25&&i&&u!==l&&(t(4,u=l),t(3,i.value=l,i)),s.$$.dirty&44&&i&&k!==o&&(t(5,k=o),t(3,i.size=o,i))},[l,a,o,i,u,k,p]}class dl extends Ee{constructor(e){super(),we(this,e,ml,_l,We,{value:0,size:2})}}function hl(s,e="body"){let t;async function l(i){if(e=i,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Xt(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(s),s.hidden=!1}function o(){s.parentNode&&s.parentNode.removeChild(s)}return l(e),{update:l,destroy:o}}function pl(s){let e;return{c(){e=jt("path"),this.h()},l(t){e=Rt(t,"path",{d:!0}),g(e).forEach(r),this.h()},h(){c(e,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")},m(t,l){_(t,e,l)},p:ie,d(t){t&&r(e)}}}function vl(s){let e,t;const l=[{viewBox:"0 0 24 24"},s[0]];let o={$$slots:{default:[pl]},$$scope:{ctx:s}};for(let i=0;i<l.length;i+=1)o=ge(o,l[i]);return e=new Kt({props:o}),{c(){ce(e.$$.fragment)},l(i){_e(e.$$.fragment,i)},m(i,a){me(e,i,a),t=!0},p(i,[a]){const u=a&1?Ht(l,[l[0],At(i[0])]):{};a&2&&(u.$$scope={dirty:a,ctx:i}),e.$set(u)},i(i){t||(U(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function bl(s,e,t){return s.$$set=l=>{t(0,e=ge(ge({},e),Pe(l)))},e=Pe(e),[e]}class gl extends Ee{constructor(e){super(),we(this,e,bl,vl,We,{})}}var kl=function(s,e){e===void 0&&(e={enabled:!0});var t=Et(e),l=t.enabled,o=t.eventType,i=t.nodeForEvent,a=t.options,u=t.capture,k=function(p){s&&!s.contains(p.target)&&!p.defaultPrevented&&s.dispatchEvent(new CustomEvent("clickoutside",{detail:p}))};return e.enabled!==!1&&i.addEventListener(o,k,a),{update:function(p){var m;i.removeEventListener(o,k,u),m=Et(p),l=m.enabled,o=m.eventType,i=m.nodeForEvent,a=m.options,u=m.capture,l&&i.addEventListener(o,k,a)},destroy:function(){i.removeEventListener(o,k,u)}}};function Et(s){var e,t,l,o,i;return{enabled:(e=s.enabled)!==null&&e!==void 0?e:!0,nodeForEvent:(l=(t=s.limit)===null||t===void 0?void 0:t.parent)!==null&&l!==void 0?l:document,eventType:(o=s.event)!==null&&o!==void 0?o:"click",options:s.options,capture:typeof s.options=="object"?(i=s.options)===null||i===void 0?void 0:i.capture:s.options}}const El=s=>({}),wt=s=>({});function yt(s){let e;const t=s[8].title,l=qt(t,s,s[7],wt);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&128)&&Gt(l,t,o,o[7],e?$t(t,o[7],i,El):Yt(o[7]),wt)},i(o){e||(U(l,o),e=!0)},o(o){j(l,o),e=!1},d(o){l&&l.d(o)}}}function It(s){let e,t,l=s[0]&&yt(s);return{c(){l&&l.c(),e=ae()},l(o){l&&l.l(o),e=ae()},m(o,i){l&&l.m(o,i),_(o,e,i),t=!0},p(o,i){o[0]?l?(l.p(o,i),i&1&&U(l,1)):(l=yt(o),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(Ue(),j(l,1,1,()=>{l=null}),Me())},i(o){t||(U(l),t=!0)},o(o){j(l),t=!1},d(o){l&&l.d(o),o&&r(e)}}}function Tt(s){let e;const t=s[8].default,l=qt(t,s,s[7],null);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&128)&&Gt(l,t,o,o[7],e?$t(t,o[7],i,null):Yt(o[7]),null)},i(o){e||(U(l,o),e=!0)},o(o){j(l,o),e=!1},d(o){l&&l.d(o)}}}function Lt(s){let e,t,l=s[0]&&Tt(s);return{c(){l&&l.c(),e=ae()},l(o){l&&l.l(o),e=ae()},m(o,i){l&&l.m(o,i),_(o,e,i),t=!0},p(o,i){o[0]?l?(l.p(o,i),i&1&&U(l,1)):(l=Tt(o),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(Ue(),j(l,1,1,()=>{l=null}),Me())},i(o){t||(U(l),t=!0)},o(o){j(l),t=!1},d(o){l&&l.d(o),o&&r(e)}}}function wl(s){let e,t,l,o,i,a,u,k,p=s[2],m,L,S,v,w,T,z=s[2],M,q,P,O=It(s);v=new gl({});let Q=Lt(s);return{c(){e=d("div"),t=d("div"),l=N(),o=d("div"),i=d("div"),a=d("div"),u=d("div"),k=d("div"),O.c(),m=N(),L=d("button"),S=d("div"),ce(v.$$.fragment),w=N(),T=d("div"),Q.c(),this.h()},l(C){e=h(C,"DIV",{class:!0,role:!0,"aria-modal":!0});var D=g(e);t=h(D,"DIV",{class:!0}),g(t).forEach(r),l=V(D),o=h(D,"DIV",{class:!0});var ee=g(o);i=h(ee,"DIV",{class:!0});var $=g(i);a=h($,"DIV",{class:!0});var Z=g(a);u=h(Z,"DIV",{class:!0});var K=g(u);k=h(K,"DIV",{class:!0});var F=g(k);O.l(F),F.forEach(r),m=V(K),L=h(K,"BUTTON",{class:!0});var E=g(L);S=h(E,"DIV",{class:!0});var I=g(S);_e(v.$$.fragment,I),I.forEach(r),E.forEach(r),K.forEach(r),w=V(Z),T=h(Z,"DIV",{class:!0});var W=g(T);Q.l(W),W.forEach(r),Z.forEach(r),$.forEach(r),ee.forEach(r),D.forEach(r),this.h()},h(){c(t,"class","fixed inset-0 bg-gray-500 bg-opacity-25"),be(t,"hidden",!s[0]),c(k,"class","flex-grow"),c(S,"class","w-6 h-6"),c(L,"class","bg-transparent border-0 text-black dark:text-white outline-none focus:outline-none"),c(u,"class","flex flex-row flex-shrink items-start justify-between px-4 pt-4"),c(T,"class","relative p-4 flex-col flex-grow"),c(a,"class","relative bg-white dark:bg-gray-900 shadow-xl sm:my-8 sm:w-full sm:max-w-lg"),be(a,"m-auto",s[1]),c(i,"class","flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0"),c(o,"class","fixed z-[10000] inset-0 overflow-y-auto"),be(o,"hidden",!s[0]),c(e,"class","relative z-[10000]"),c(e,"role","dialog"),c(e,"aria-modal","true")},m(C,D){_(C,e,D),b(e,t),b(e,l),b(e,o),b(o,i),b(i,a),b(a,u),b(u,k),O.m(k,null),b(u,m),b(u,L),b(L,S),me(v,S,null),b(a,w),b(a,T),Q.m(T,null),M=!0,q||(P=[x(L,"click",s[3]),ht(kl.call(null,a,{event:"mousedown"})),x(a,"clickoutside",s[4]),ht(hl.call(null,e))],q=!0)},p(C,[D]){(!M||D&1)&&be(t,"hidden",!C[0]),D&4&&Qe(p,p=C[2])?(Ue(),j(O,1,1,ie),Me(),O=It(C),O.c(),U(O,1),O.m(k,null)):O.p(C,D),D&4&&Qe(z,z=C[2])?(Ue(),j(Q,1,1,ie),Me(),Q=Lt(C),Q.c(),U(Q,1),Q.m(T,null)):Q.p(C,D),(!M||D&2)&&be(a,"m-auto",C[1]),(!M||D&1)&&be(o,"hidden",!C[0])},i(C){M||(U(O),U(v.$$.fragment,C),U(Q),M=!0)},o(C){j(O),j(v.$$.fragment,C),j(Q),M=!1},d(C){C&&r(e),O.d(C),de(v),Q.d(C),q=!1,Ft(P)}}}function yl(s,e,t){let{$$slots:l={},$$scope:o}=e,{onClose:i=()=>{}}=e,{small:a=!1}=e,{open:u=!1}=e,k=Ke(),p,m;function L(){t(0,u=!1),i()}function S(){m<=Date.now()-100&&(t(0,u=!1),i())}return s.$$set=v=>{"onClose"in v&&t(5,i=v.onClose),"small"in v&&t(1,a=v.small),"open"in v&&t(0,u=v.open),"$$scope"in v&&t(7,o=v.$$scope)},s.$$.update=()=>{s.$$.dirty&65&&p!==u&&(t(2,k=Ke()),t(6,p=u),m=Date.now())},[u,a,k,L,S,i,p,o,l]}class Ct extends Ee{constructor(e){super(),we(this,e,yl,wl,Qe,{onClose:5,small:1,open:0})}}function Ot(s,e,t){const l=s.slice();return l[3]=e[t],l[27]=t,l}function zt(s,e,t){const l=s.slice();return l[28]=e[t],l}function Dt(s,e,t){const l=s.slice();return l[31]=e[t],l}function St(s,e,t){const l=s.slice();return l[34]=e[t],l}function Nt(s,e){let t,l=e[34]+"",o,i;return{key:s,first:null,c(){t=d("option"),o=H(l),this.h()},l(a){t=h(a,"OPTION",{class:!0});var u=g(t);o=A(u,l),u.forEach(r),this.h()},h(){t.__value=e[34],t.value=t.__value,t.selected=i=e[34]===e[5],c(t,"class","capitalize"),this.first=t},m(a,u){_(a,t,u),b(t,o)},p(a,u){e=a,u[0]&32&&i!==(i=e[34]===e[5])&&(t.selected=i)},d(a){a&&r(t)}}}function Vt(s,e){let t,l=e[31]+"",o,i;return{key:s,first:null,c(){t=d("option"),o=H(l),this.h()},l(a){t=h(a,"OPTION",{class:!0});var u=g(t);o=A(u,l),u.forEach(r),this.h()},h(){t.__value=e[31],t.value=t.__value,t.selected=i=e[31]===e[6],c(t,"class","capitalize"),this.first=t},m(a,u){_(a,t,u),b(t,o)},p(a,u){e=a,u[0]&64&&i!==(i=e[31]===e[6])&&(t.selected=i)},d(a){a&&r(t)}}}function Pt(s){let e,t=s[28].name+"",l,o;return{c(){e=d("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{});var a=g(e);l=A(a,t),a.forEach(r),this.h()},h(){e.__value=s[28].value,e.value=e.__value,e.selected=o=s[28].value===s[7]},m(i,a){_(i,e,a),b(e,l)},p(i,a){a[0]&128&&o!==(o=i[28].value===i[7])&&(e.selected=o)},d(i){i&&r(e)}}}function Qt(s){let e;return{c(){e=H("(You)")},l(t){e=A(t,"(You)")},m(t,l){_(t,e,l)},d(t){t&&r(e)}}}function Ut(s){let e;return{c(){e=d("hr")},l(t){e=h(t,"HR",{})},m(t,l){_(t,e,l)},d(t){t&&r(e)}}}function Mt(s,e){let t,l,o,i=e[3].name+"",a,u,k,p,m,L,S,v=e[3].id===e[1]&&Qt(),w=e[27]<e[2].length-1&&Ut();return{key:s,first:null,c(){t=d("div"),l=d("div"),o=d("p"),a=H(i),u=N(),v&&v.c(),k=N(),p=d("div"),m=d("div"),L=N(),w&&w.c(),S=ae(),this.h()},l(T){t=h(T,"DIV",{class:!0});var z=g(t);l=h(z,"DIV",{class:!0});var M=g(l);o=h(M,"P",{class:!0});var q=g(o);a=A(q,i),u=V(q),v&&v.l(q),q.forEach(r),M.forEach(r),k=V(z),p=h(z,"DIV",{class:!0});var P=g(p);m=h(P,"DIV",{class:!0,style:!0}),g(m).forEach(r),P.forEach(r),z.forEach(r),L=V(T),w&&w.l(T),S=ae(),this.h()},h(){c(o,"class","text-2xl p-1 font-bold overflow-hidden text-ellipsis"),c(l,"class","flex flex-row flex-grow overflow-hidden"),c(m,"class","border w-8 h-8"),bt(m,"background",e[3].team),c(p,"class","flex flex-shrink items-center"),c(t,"class","flex justify-between w-full"),this.first=t},m(T,z){_(T,t,z),b(t,l),b(l,o),b(o,a),b(o,u),v&&v.m(o,null),b(t,k),b(t,p),b(p,m),_(T,L,z),w&&w.m(T,z),_(T,S,z)},p(T,z){e=T,z[0]&4&&i!==(i=e[3].name+"")&&Jt(a,i),e[3].id===e[1]?v||(v=Qt(),v.c(),v.m(o,null)):v&&(v.d(1),v=null),z[0]&4&&bt(m,"background",e[3].team),e[27]<e[2].length-1?w||(w=Ut(),w.c(),w.m(S.parentNode,S)):w&&(w.d(1),w=null)},d(T){T&&r(t),v&&v.d(),T&&r(L),w&&w.d(T),T&&r(S)}}}function Il(s){let e;return{c(){e=H("Start")},l(t){e=A(t,"Start")},m(t,l){_(t,e,l)},d(t){t&&r(e)}}}function Tl(s){let e;return{c(){e=H("Not enough teams")},l(t){e=A(t,"Not enough teams")},m(t,l){_(t,e,l)},d(t){t&&r(e)}}}function Ll(s){let e,t;return e=new dl({props:{value:window.location.href}}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,o){me(e,l,o),t=!0},p:ie,i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Cl(s){let e,t,l=Ll();return{c(){l&&l.c(),e=ae()},l(o){l&&l.l(o),e=ae()},m(o,i){l&&l.m(o,i),_(o,e,i),t=!0},p(o,i){l.p(o,i)},i(o){t||(U(l),t=!0)},o(o){j(l),t=!1},d(o){l&&l.d(o),o&&r(e)}}}function Ol(s){let e,t,l,o=s[0].room_id+"",i;return{c(){e=d("h2"),t=H("Room "),l=d("span"),i=H(o),this.h()},l(a){e=h(a,"H2",{slot:!0});var u=g(e);t=A(u,"Room "),l=h(u,"SPAN",{class:!0});var k=g(l);i=A(k,o),k.forEach(r),u.forEach(r),this.h()},h(){c(l,"class","uppercase font-bold"),c(e,"slot","title")},m(a,u){_(a,e,u),b(e,t),b(e,l),b(l,i)},p(a,u){u[0]&1&&o!==(o=a[0].room_id+"")&&Jt(i,o)},d(a){a&&r(e)}}}function zl(s){let e,t,l;return{c(){e=d("div"),t=d("a"),l=H("Leave"),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=g(e);t=h(i,"A",{class:!0,href:!0});var a=g(t);l=A(a,"Leave"),a.forEach(r),i.forEach(r),this.h()},h(){c(t,"class","btn danger"),c(t,"href",`${Ze}/`),c(e,"class","flex flex-row justify-end")},m(o,i){_(o,e,i),b(e,t),b(t,l)},p:ie,d(o){o&&r(e)}}}function Dl(s){let e,t;return{c(){e=d("h2"),t=H("Leave Lobby? are you sure?"),this.h()},l(l){e=h(l,"H2",{slot:!0});var o=g(e);t=A(o,"Leave Lobby? are you sure?"),o.forEach(r),this.h()},h(){c(e,"slot","title")},m(l,o){_(l,e,o),b(e,t)},p:ie,d(l){l&&r(e)}}}function Sl(s){let e,t,l,o,i,a,u,k,p,m,L,S,v,w,T,z,M,q,P,O=[],Q=new Map,C,D,ee,$,Z,K,F,E,I,W,B=[],Xe=new Map,ye,fe,Be,Ie,te,Te,J=[],xe=new Map,he,le,ue,He,Ae,X,Le,Ce,ne,je,Oe,oe,Re,re,Fe,et;document.title=e="Lobby "+s[0].room_id.toUpperCase(),u=new cl({});let ze=Je;const tt=n=>n[34];for(let n=0;n<ze.length;n+=1){let f=St(s,ze,n),y=tt(f);Q.set(y,O[n]=Nt(y,f))}let De=gt;const lt=n=>n[31];for(let n=0;n<De.length;n+=1){let f=Dt(s,De,n),y=lt(f);Xe.set(y,B[n]=Vt(y,f))}let pe=Bt,R=[];for(let n=0;n<pe.length;n+=1)R[n]=Pt(zt(s,pe,n));let Se=s[2];const nt=n=>n[3].id;for(let n=0;n<Se.length;n+=1){let f=Ot(s,Se,n),y=nt(f);xe.set(y,J[n]=Mt(y,f))}function ot(n,f){return n[11]<=1?Tl:Il}let Ne=ot(s),se=Ne(s);function Zt(n){s[23](n)}let st={$$slots:{title:[Ol],default:[Cl]},$$scope:{ctx:s}};s[8]!==void 0&&(st.open=s[8]),ne=new Ct({props:st}),$e.push(()=>pt(ne,"open",Zt));function Wt(n){s[24](n)}let it={$$slots:{title:[Dl],default:[zl]},$$scope:{ctx:s}};return s[9]!==void 0&&(it.open=s[9]),oe=new Ct({props:it}),$e.push(()=>pt(oe,"open",Wt)),{c(){t=N(),l=d("h1"),o=H("Lobby "),i=d("button"),a=d("div"),ce(u.$$.fragment),k=N(),p=d("hr"),m=N(),L=d("label"),S=H("Username"),v=N(),w=d("input"),T=N(),z=d("label"),M=H("Team"),q=N(),P=d("select");for(let n=0;n<O.length;n+=1)O[n].c();C=N(),D=d("hr"),ee=N(),$=d("label"),Z=H("Difficulty"),K=N(),F=d("select"),E=d("option"),I=H("Any");for(let n=0;n<B.length;n+=1)B[n].c();ye=N(),fe=d("label"),Be=H("Time per Question"),Ie=N(),te=d("select");for(let n=0;n<R.length;n+=1)R[n].c();Te=N();for(let n=0;n<J.length;n+=1)J[n].c();he=N(),le=d("div"),ue=d("button"),He=H("Leave"),Ae=N(),X=d("button"),se.c(),Ce=N(),ce(ne.$$.fragment),Oe=N(),ce(oe.$$.fragment),this.h()},l(n){xt("svelte-10d1btb",document.head).forEach(r),t=V(n),l=h(n,"H1",{class:!0});var y=g(l);o=A(y,"Lobby "),i=h(y,"BUTTON",{class:!0});var ve=g(i);a=h(ve,"DIV",{class:!0});var G=g(a);_e(u.$$.fragment,G),G.forEach(r),ve.forEach(r),y.forEach(r),k=V(n),p=h(n,"HR",{class:!0}),m=V(n),L=h(n,"LABEL",{for:!0});var ke=g(L);S=A(ke,"Username"),ke.forEach(r),v=V(n),w=h(n,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0,maxlength:!0}),T=V(n),z=h(n,"LABEL",{for:!0});var rt=g(z);M=A(rt,"Team"),rt.forEach(r),q=V(n),P=h(n,"SELECT",{name:!0,class:!0});var at=g(P);for(let Y=0;Y<O.length;Y+=1)O[Y].l(at);at.forEach(r),C=V(n),D=h(n,"HR",{class:!0}),ee=V(n),$=h(n,"LABEL",{for:!0});var ft=g($);Z=A(ft,"Difficulty"),ft.forEach(r),K=V(n),F=h(n,"SELECT",{name:!0,class:!0});var qe=g(F);E=h(qe,"OPTION",{class:!0});var ut=g(E);I=A(ut,"Any"),ut.forEach(r);for(let Y=0;Y<B.length;Y+=1)B[Y].l(qe);qe.forEach(r),ye=V(n),fe=h(n,"LABEL",{for:!0});var ct=g(fe);Be=A(ct,"Time per Question"),ct.forEach(r),Ie=V(n),te=h(n,"SELECT",{name:!0});var _t=g(te);for(let Y=0;Y<R.length;Y+=1)R[Y].l(_t);_t.forEach(r),Te=V(n);for(let Y=0;Y<J.length;Y+=1)J[Y].l(n);he=V(n),le=h(n,"DIV",{class:!0});var Ve=g(le);ue=h(Ve,"BUTTON",{class:!0});var mt=g(ue);He=A(mt,"Leave"),mt.forEach(r),Ae=V(Ve),X=h(Ve,"BUTTON",{class:!0});var dt=g(X);se.l(dt),dt.forEach(r),Ve.forEach(r),Ce=V(n),_e(ne.$$.fragment,n),Oe=V(n),_e(oe.$$.fragment,n),this.h()},h(){c(a,"class","w-8 h-8"),c(i,"class","btn primary icon"),c(l,"class","text-center"),c(p,"class","mt-1 mb-2"),c(L,"for","username"),c(w,"type","text"),c(w,"name","username"),c(w,"class","mb-2"),c(w,"placeholder","Username"),w.value=s[4],c(w,"maxlength",50),c(z,"for","team"),c(P,"name","team"),c(P,"class","capitalize"),c(D,"class","my-2"),c($,"for","difficulty"),E.__value="",E.value=E.__value,E.selected=W=s[6]===void 0,c(E,"class","capitalize"),c(F,"name","difficulty"),c(F,"class","capitalize"),c(fe,"for","timePerQuestion"),c(te,"name","timePerQuestion"),c(ue,"class","btn danger"),c(X,"class","btn primary"),X.disabled=Le=s[10]||s[11]<=1,c(le,"class","flex flex-row justify-between mt-4")},m(n,f){_(n,t,f),_(n,l,f),b(l,o),b(l,i),b(i,a),me(u,a,null),_(n,k,f),_(n,p,f),_(n,m,f),_(n,L,f),b(L,S),_(n,v,f),_(n,w,f),_(n,T,f),_(n,z,f),b(z,M),_(n,q,f),_(n,P,f);for(let y=0;y<O.length;y+=1)O[y]&&O[y].m(P,null);_(n,C,f),_(n,D,f),_(n,ee,f),_(n,$,f),b($,Z),_(n,K,f),_(n,F,f),b(F,E),b(E,I);for(let y=0;y<B.length;y+=1)B[y]&&B[y].m(F,null);_(n,ye,f),_(n,fe,f),b(fe,Be),_(n,Ie,f),_(n,te,f);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(te,null);_(n,Te,f);for(let y=0;y<J.length;y+=1)J[y]&&J[y].m(n,f);_(n,he,f),_(n,le,f),b(le,ue),b(ue,He),b(le,Ae),b(le,X),se.m(X,null),_(n,Ce,f),me(ne,n,f),_(n,Oe,f),me(oe,n,f),re=!0,Fe||(et=[x(i,"click",s[17]),x(w,"input",s[12]),x(w,"blur",s[13]),x(P,"change",s[14]),x(F,"change",s[15]),x(te,"change",s[16]),x(ue,"click",s[18]),x(X,"click",s[19])],Fe=!0)},p(n,f){if((!re||f[0]&1)&&e!==(e="Lobby "+n[0].room_id.toUpperCase())&&(document.title=e),(!re||f[0]&16&&w.value!==n[4])&&(w.value=n[4]),f[0]&32&&(ze=Je,O=Ge(O,f,tt,1,n,ze,Q,P,Ye,Nt,null,St)),(!re||f[0]&64&&W!==(W=n[6]===void 0))&&(E.selected=W),f[0]&64&&(De=gt,B=Ge(B,f,lt,1,n,De,Xe,F,Ye,Vt,null,Dt)),f[0]&128){pe=Bt;let G;for(G=0;G<pe.length;G+=1){const ke=zt(n,pe,G);R[G]?R[G].p(ke,f):(R[G]=Pt(ke),R[G].c(),R[G].m(te,null))}for(;G<R.length;G+=1)R[G].d(1);R.length=pe.length}f[0]&6&&(Se=n[2],J=Ge(J,f,nt,1,n,Se,xe,he.parentNode,Ye,Mt,he,Ot)),Ne!==(Ne=ot(n))&&(se.d(1),se=Ne(n),se&&(se.c(),se.m(X,null))),(!re||f[0]&3072&&Le!==(Le=n[10]||n[11]<=1))&&(X.disabled=Le);const y={};f[0]&1|f[1]&64&&(y.$$scope={dirty:f,ctx:n}),!je&&f[0]&256&&(je=!0,y.open=n[8],vt(()=>je=!1)),ne.$set(y);const ve={};f[1]&64&&(ve.$$scope={dirty:f,ctx:n}),!Re&&f[0]&512&&(Re=!0,ve.open=n[9],vt(()=>Re=!1)),oe.$set(ve)},i(n){re||(U(u.$$.fragment,n),U(ne.$$.fragment,n),U(oe.$$.fragment,n),re=!0)},o(n){j(u.$$.fragment,n),j(ne.$$.fragment,n),j(oe.$$.fragment,n),re=!1},d(n){n&&r(t),n&&r(l),de(u),n&&r(k),n&&r(p),n&&r(m),n&&r(L),n&&r(v),n&&r(w),n&&r(T),n&&r(z),n&&r(q),n&&r(P);for(let f=0;f<O.length;f+=1)O[f].d();n&&r(C),n&&r(D),n&&r(ee),n&&r($),n&&r(K),n&&r(F);for(let f=0;f<B.length;f+=1)B[f].d();n&&r(ye),n&&r(fe),n&&r(Ie),n&&r(te),el(R,n),n&&r(Te);for(let f=0;f<J.length;f+=1)J[f].d(n);n&&r(he),n&&r(le),se.d(),n&&r(Ce),de(ne,n),n&&r(Oe),de(oe,n),Fe=!1,Ft(et)}}}function Nl(s,e){return s.id.localeCompare(e.id)}const Bt=[{value:3e4,name:"30 seconds"},{value:6e4,name:"1 minute"},{value:12e4,name:"2 minutes"},{value:18e4,name:"3 minutes"},{value:24e4,name:"4 minutes"},{value:3e5,name:"5 minutes"}];function Vl(s,e,t){let l,o,i,a,u;tl(s,ol,E=>t(22,u=E));let{data:k}=e;const p=nl(k.room_id);let m=`Guest ${Ke()}`,L=il(Je).unwrap(),S={},v=!1;function w(E){t(4,m=E.currentTarget.value),o.get("name").set(m)}function T(E){const I=m.trim();I!==m&&(t(4,m=I),o.get("name").set(m))}function z(E){t(5,L=E.currentTarget.value),o.get("team").set(L)}let M="";function q(E){t(6,M=E.currentTarget.value),p.get("getQuestionsOptions").get("difficulty").set(M)}let P=6e4;function O(E){t(7,P=+E.currentTarget.value),p.get("timePerQuestion").set(P)}let Q=!1;function C(){t(8,Q=!0)}let D=!1;function ee(){t(9,D=!0)}let $=!1;async function Z(){p.get("starting").set(!0),p.get("getQuestionsOptions").get("token").set(await sl()),p.get("started").set(!0),p.get("fetcher").set(l);try{await kt(`${Ze}/${k.room_id}/game`)}finally{p.get("starting").set(!1)}}ll(()=>{const E=[p.get("users").on(async I=>{I&&t(20,S=(await Promise.all(Object.values(I))).reduce((W,B)=>(B&&B.id&&(B.name||(B.name=""),W[B.id]=B),W),{}))}),p.get("started").on(I=>{I!=null&&t(21,v=I)}),p.get("starting").on(I=>{I!=null&&t(10,$=I)}),p.get("getQuestionsOptions").get("difficulty").on(async I=>{I!=null&&t(6,M=I)})];return o.get("id").set(l),o.get("team").then(I=>{if(I)t(5,L=I);else throw new Error}).catch(I=>{o.get("team").set(L)}),o.get("name").then(I=>{if(I)t(4,m=I);else throw new Error}).catch(I=>{o.get("name").set(m)}),p.get("seed").set(Date.now()*Math.random()*1e3|0),()=>{for(const I of E)I()}});function K(E){Q=E,t(8,Q)}function F(E){D=E,t(9,D)}return s.$$set=E=>{"data"in E&&t(0,k=E.data)},s.$$.update=()=>{s.$$.dirty[0]&2097153&&v&&kt(`${Ze}/${k.room_id}/game`),s.$$.dirty[0]&4194304&&t(1,l=u),s.$$.dirty[0]&2&&t(3,o=p.get("users").get(l)),s.$$.dirty[0]&1048576&&t(2,i=Object.values(S).sort(Nl)),s.$$.dirty[0]&4&&t(11,a=i.reduce((E,I)=>(E.add(I.team),E),new Set).size)},[k,l,i,o,m,L,M,P,Q,D,$,a,w,T,z,q,O,C,ee,Z,S,v,u,K,F]}class Rl extends Ee{constructor(e){super(),we(this,e,Vl,Sl,Qe,{data:0},null,[-1,-1])}}export{Rl as component,jl as universal};
